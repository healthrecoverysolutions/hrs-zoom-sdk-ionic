{"version":3,"sources":["/Users/anubhavsaxena/Documents/Impetus_Projects/Angular_Monorepo_GitLab_Copy/angular-monorepo/node_modules/@hrsui/angular/node_modules/@hrsui/core/dist/esm/focus-control-798d0b02.js"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAE6B;;AAE7B,kD","file":"focus-control-798d0b02-js-es2015.js","sourcesContent":["// FOCUS CONTROL\nconst HAS_FOCUS = 'has-focus';\nconst IS_FOCUSABLE = 'hrs-focusable';\nconst FOCUS_KEYS = ['Tab', 'ArrowDown', 'Space', 'Escape', ' ', 'Shift', 'Enter', 'ArrowLeft', 'ArrowRight', 'ArrowUp'];\nconst startFocusControl = () => {\n  let currentFocus = [];\n  let keyboardMode = true;\n  const doc = document;\n  const setFocus = (elements) => {\n    if (currentFocus === elements)\n      return;\n    currentFocus.forEach((el) => el.classList.remove(HAS_FOCUS));\n    elements.forEach((el) => el.classList.add(HAS_FOCUS));\n    currentFocus = elements;\n  };\n  const pointerDown = (ev) => {\n    const target = ev.target;\n    let toFocus;\n    keyboardMode = false;\n    toFocus = currentFocus.includes(target) ? currentFocus : [];\n    setFocus(toFocus);\n  };\n  doc.addEventListener('keydown', (ev) => {\n    keyboardMode = FOCUS_KEYS.includes(ev.key);\n    if (!keyboardMode) {\n      setFocus([]);\n    }\n  });\n  doc.addEventListener('focusin', (ev) => {\n    if (keyboardMode && ev.composedPath) {\n      const toFocus = ev.composedPath().filter((el) => {\n        if (el.classList) {\n          return el.classList.contains(IS_FOCUSABLE);\n        }\n        return false;\n      });\n      setFocus(toFocus);\n    }\n  });\n  doc.addEventListener('focusout', () => {\n    if (doc.activeElement === doc.body) {\n      setFocus([]);\n    }\n  });\n  doc.addEventListener('touchstart', pointerDown);\n  doc.addEventListener('mousedown', pointerDown);\n};\n\nexport { startFocusControl };\n\n//# sourceMappingURL=focus-control-798d0b02.js.map"],"sourceRoot":""}